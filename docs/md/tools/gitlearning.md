# GIT 学习记录

## 1. GIT 是什么？

GIT 是一种分布式的版本控制系统。

## 2. 为什么要用 GIT ？

如果一个文件，想修改某些内容，但是又想先保存当前的版本，那么最简单的做法就是将原来的文件另存为一个副本，然后再进行修改。但是一直这样下去，会产生很多副本。

如果一个多人协作的项目，不同的成员需要对文件进行不一样的内容修改，那么就需要copy一份基础的版本，然后在上面进行修改，完成后还要手动合并到基础版本中，这样需要用对比软件手动去更新内容。

当有以上的情况出现时，GIT无疑是一个很好的选择。GIT可以记录你的每一个修改，包括时间，修改者，修改内容等等。GIT提供了一系列方便的操作，可以让你在各个版本中随意切换。

## 3. 什么是分布式？

集中式的版本控制系统，版本库是存储在中央服务器的，所有参与者需要从中央服务器获得最新版本，然后进行修改，最后将修改推送到服务器。集中式的版本管理系统是需要联网的，最基本的也要有局域网。

分布式版本控制系统没有中央服务器的概念，每一个人都可以在本地克隆一个完整的版本库。分布式的其中一个优点就是，但凡有一个人的电脑坏了，不会导致整个库丢掉。分布式的系统，通常也会有一个服务器，这个是用来交换大家的修改的，所有参与者都可以推送修改到服务器，也可以拉取更新到本地。

## 4. 如何安装 GIT ？



## 5. GIT的基本操作

### 5.1 创建版本库

在任意一个目录下，新建一个文件夹，定位到这个文件夹下，使用命令行输入`git init`即可完成版本库的创建。GIT 会提示`Initialized empty Git repository in xx/.git/`，同时该木下下会多出一个`.git`文件夹，这个目录是GIT用来跟踪管理版本库的，一般情况下都不需要修改这个文件夹内的内容。

GIT只能跟踪文本文件的改动，图片和视频等二进制文件，GIT没办法跟踪到具体的变化，只能知道大小变化了，但是无法知道具体改了啥。

### 5.2 提交修改

在刚刚的目录下，新建一个文件，并输入任意内容，提交修改。

1. 新建一个gitlearn.md文件；
2. 输入命令`git status`，可以看到GIT已经检查到你新建了文件，并提醒你提交修改。
3. 在gitlearn.md中输入一些内容；
4. 使用`git add .`命令，将修改的文件加入暂存区；
5. 使用`git commit -m "comment"`命令，将修改提交到版本库。

### 5.3 版本回退

使用命令`git reset --hard HEAD^`可以回退到上一个版本。如果想回到后面的版本，可以使用`git log`命令打印出GIT的提交日志，并找到提交的ID，然后使用命令`git reset --hard xxxx`就可以回到后面的版本了。

### 5.3 工作区和暂存区

工作区就是我们的目录，版本库就是`.git`目录，暂存区就在版本库中。当修改完成后，想要提交到版本库，要先使用`git add`命令将修改添加到暂存区，然后再使用`git commit`命令提交修改到版本库中。`git commit`只会将暂存区的文件提交到版本库。

### 5.4 撤销修改

有时候改了一些内容，但是又不想要这些修改了，可以使用命令`git checkout .`来撤销全部修改。当然也可以使用命令`git checkout filename`对单个文件进行修改撤销。

### 5.5 删除文件

如果不想要某些文件，直接使用命令`rm filename`即可。

## 6. 远程仓库

最流行的就是github，想要提交代码到github仓库，需要SSH Key。使用命令`ssh-keygen -t rsa -C "your eamil@xxx.com"`，然后一路回车，得到`id_rsa`和`id_rsa.pub`文件。前者是私钥，后者是公钥。登录github，将公钥的东西丢到SSH Keys设置里面去，就可以愉快玩耍github了。

## 7. 分支管理

### 7.1 什么是分支？

分支是基于某个版本创建的一个不同的方向的版本，一般不同的开发者会基于master分支创建属于自己的分支，在这个分支上完成自己的工作，然后再merge到master中。

### 7.2 创建分支

比如要基于master创建一个新的分支dev，那么切换到master分支下，使用命令`git branch -b dev`，那么就创建了`dev`分支并切换到该分支去。

### 7.3 切换分支

使用命令`git checkout branchname`即可切换分支。

### 7.4 合并分支

比如刚刚创建的`dev`分支已经完成修改，想要合并到master分支下，使用命令`git checkout master`切换到master分支，然后使用命令`git merge dev`即可将`dev`分支的修改合并到master中，如果有冲突，那么需要处理完冲突后才能将修改合并进来。

### 7.5 删除分支

当某个分支的使命已经完成，就可以删除分支。使用命令`git branch -d branchname`即可删除分支。

## 8. 标签管理

标签就是某个commit的快照，是唯一的。

### 8.1 创建标签

使用命令`git tag v1.0`即可完成标签的创建。

### 8.2 标签操作

- `git push origin tagname`：推送一个本地标签
- `git push origin --tags`：推送所有没推送过的标签
- `git tag -d tagname`：删除一个标签
- `git push origin :refs/tags/tagname`：删除一个远程标签

## 9. 自定义 GIT

### 9.1 gitignore

如果不希望GIT跟踪某些目录或文件，需要编辑`.gitignore`文件。
